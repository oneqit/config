
# tmux
_tmux_env() {
  export LANG=ko_KR.UTF-8
  export LC_ALL=ko_KR.UTF-8
}

t()  { _tmux_env; tmux new "$@"; }              # (Optional) use -s <name>
ta() { _tmux_env; tmux attach "$@"; }          # use -t <name>
tl() { _tmux_env; tmux list-sessions "$@"; }
tc() { _tmux_env; tmux choose-session "$@"; }
tk() { _tmux_env; tmux kill-session "$@"; }   # use -t <name>
tK() { _tmux_env; tmux kill-server "$@"; }

qode() {
  _tmux_env
  local cmd1="${1:-nvim}"
  local cmd2="${2:-claude}"
  if [[ -n "$TMUX" ]]; then
    # Already inside tmux: split current window
    tmux split-window -h -l 40% \; \
      send-keys "$cmd2" C-m \; \
      select-pane -L \; \
      send-keys "$cmd1" C-m
  else
    # Outside tmux: create new session
    tmux new-session \; \
      send-keys "$cmd1" C-m \; \
      split-window -h -l 40% \; \
      send-keys "$cmd2" C-m \; \
      select-pane -L
  fi
}
